<div style="margin:20px 0;">
  <span ng-if="!showOptions">
    <span is-role-visible='["add_student"]' email="currentUser.email">
      <a href="#/classes/{{classId}}/students/new" class="btn btn-primary" ng-if="classId"> New Student</a>
      <a href="#/students/new" class="btn btn-primary" ng-if="!classId"> New Student</a>
    </span>
    <span is-role-visible='["manage_student_subject"]' email="currentUser.email">
      <a href="#/classes/{{classId}}/manage_student_subjects" class="btn btn-primary" ng-if="classId">manage_student_subjects</a>
    </span>
  </span>
  <input type="text" ng-model="filterStudent.name" ng-change="pageChanged(1);">

  <table st-table="rowCollection" class="table organisationCoursesTable">
    <thead>
      <tr>
	<th st-sort="firstName">Number</th>
	<th st-sort="lastName">Name</th>
	<th st-sort="balance">Batch</th>
	<th st-sort="balance">Standard</th>
	<th st-sort="balance">Parent Name</th>
	<th st-sort="balance">Parent Mobile</th>
	<th st-sort="balance" ng-if="!isRemove">Classes</th>
	<th></th>
	<th ng-if="isRemove">Remove</th>
      </tr>
    </thead>
    <tbody>
      <tr dir-paginate="row in students | toArray:false| filter:filterStudent | itemsPerPage: 10" total-items="totalStudents" current-page="pagination.current" pagination-id="student">
	<td><span ng-if="showRollNumber">{{ row.roll_number}}</span><span ng-if="!showRollNumber">{{$index+1}}</span></td>
	<td>{{row.name}}</td>
	<td>{{row.batch}}</td>
	<td>{{row.standard}}</td>
	<td>{{row.parent_name}}</td>
	<td>{{row.p_mobile}}</td>
	<td ng-if="!isRemove">{{row.class_names}}</td>
	<td>
	  <a href="#/students/{{row.id}}/show" class="btn btn-link">Show</a>
	</td>
	<td ng-if="isRemove">
	  <button ng-click="removeStudent(row)" class="btn btn-link">Remove</button>
	</td>
      </tr>
    </tbody>
  </table>
  <dir-pagination-controls on-page-change="pageChanged(newPageNumber)" pagination-id="student"></dir-pagination-controls>
</div>

