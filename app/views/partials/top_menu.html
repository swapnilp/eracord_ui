<div class="header" ng-if="currentUser.email && !disableNav">
  <div class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
	
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
	<a class="navbar-brand" href="{{hostUrl}}" ng-if="!currentUser.email" style="width: 120px;">
	  <img class="img-responsive" src="https://s3.amazonaws.com/Eracord/Eracord/images/eracord.png" alt="" style="max-width:100px;">
	</a>
        <a class="navbar-brand" href="#/admin_desk" ng-if="currentUser.email && logoUrl == ''" style="width: 120px;" disabled-link="disableNav">
	  <img class="img-responsive" src="https://s3.amazonaws.com/Eracord/Eracord/images/eracord.png" alt="" style="max-width:100px;">
	</a>
	<a class="navbar-brand image" href="#/admin_desk" ng-if="currentUser.email && logoUrl !== ''" disabled-link="disableNav">
	  <img ng-src="{{logoUrl}}" alt="logo" />
	</a>
      </div>
      
      <div class="collapse navbar-collapse" id="js-navbar-collapse">
	
        <ul class="nav navbar-nav">
          <li ng-class="{active: topMenu==='home', 'disabled': disableNav}"><a href="#/" disabled-link="disableNav">Home</a></li>
	  <li ng-class="{active: topMenu==='admin_desk', 'disabled': disableNav}" ng-click="changeLocation('admin_desk');"><a ng-href="#/admin_desk" disabled-link="disableNav">Admin Desk</a></li>
	  <li is-role-visible='["manage_organiser"]' email="currentUser.email" ng-class="{active: topMenu==='manage_organisation', 'disabled': disableNav}">
	    <a ng-href="#/manage_organisation" disabled-link="disableNav">Manage Organisation</a>
	  </li>
	  <li ng-class="{active: dropDowmMenu === 'academic', 'disabled': disableNav}" class="dropdown">
	    <a class="dropdown-toggle" data-toggle="dropdown" href="" disabled-link="disableNav">Academic
              <span class="caret"></span>
	    </a>
	    <ul class="dropdown-menu">
	      <li ng-class="{active: topMenu==='exams', 'disabled': disableNav}"><a ng-href="#/exams" disabled-link="disableNav">Exams</a></li>
	      <li ng-class="{active: topMenu==='students', 'disabled': disableNav}"><a ng-href="#/students" disabled-link="disableNav">Students</a></li>
	      <li is-role-visible='["manage_organiser"]' email="currentUser.email" ng-class="{active: topMenu==='teachers', 'disabled': disableNav}" only-root="currentUser.is_root"><a ng-href="#/teachers" disabled-link="disableNav">Teachers</a></li>
	      <li ng-class="{active: topMenu==='off_classes', 'disabled': disableNav}"><a ng-href="#/off_classes" disabled-link="disableNav">Off Classes</a></li>
	    </ul>
	  </li>
	  <li  ng-class="{active: dropDowmMenu === 'non_academic', 'disabled': disableNav}" class="dropdown">
	    <a class="dropdown-toggle" data-toggle="dropdown" href="" disabled-link="disableNav">Non Academic
              <span class="caret"></span>
	    </a>
	    <ul class="dropdown-menu">
	      <li ng-class="{active: topMenu==='class_rooms', 'disabled': disableNav}"><a ng-href="#/class_rooms" disabled-link="disableNav">Class Rooms</a></li>
	      <li is-role-visible='["accountant"]' email="currentUser.email" ng-class="{active: topMenu==='accounts', 'disabled': disableNav}">
		<a ng-href="#/accounts" disabled-link="disableNav">Accounts</a>
	      </li>
	      <li ng-class="{active: topMenu==='sms', 'disabled': disableNav}">
		<a ng-href="#/sms" disabled-link="disableNav">SMS</a>
	      </li>
	      <li is-role-visible='["manage_organiser"]' email="currentUser.email" ng-class="{active: topMenu==='meetings', 'disabled': disableNav}">
		<a ng-href="#/meetings" disabled-link="disableNav">Meetings</a>
	      </li>
	      <li is-role-visible='["manage_hostel"]' email="currentUser.email" ng-class="{active: topMenu==='hostels', 'disabled': disableNav}" only-root="currentUser.is_root">
		<a ng-href="#/hostels" disabled-link="disableNav">Hostels</a>
	      </li>
	      <li ng-class="{active: topMenu=== 'holidays', 'disabled': disableNav}">
		<a ng-href="#/holidays" disabled-link="disableNav">Holidays</a>
	      </li>
	    </ul>
	  </li>
          <li ng-class="{active: topMenu==='contacts', 'disabled': disableNav}"><a ng-href="#/contact" disabled-link="disableNav">Contact</a></li>
        </ul>
	<ul class="nav navbar-nav pull-right" ng-if="currentUser.email">
	  <li ng-class="{active: dropDowmMenu === 'users'}" class="dropdown">
	    <a class="dropdown-toggle userIcon" data-toggle="dropdown" href="" disabled-link="false">
	      <i class="fa fa-user fa-2x"></i>
              <span class="caret"></span>
	    </a>
	    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuDivider">
	      <li ng-class="{active: topMenu==='users'}" class="userInfoDropDown">
		<div class="pull-right imageDiv">
		  <div style="font-size: 22px;" class="text-right">  
		    <img ng-src="{{logoUrl}}" alt="logo" ng-if="logoUrl !== ''">
		    {{currentUser.name}}
		  </div>
		  <div class="text-right">
		    <p style="font-size:12px;" class="marginB0"><strong>{{currentUser.email | capitalize}}</strong></p> 
		    <a href="#/user/change_password">change password</a>
		  </div>
		</div>
	      </li>
	      <li role="separator" class="divider"></li>
	      <li>
		<a class="btn btn-link" ng-click="doLogout();">Logout</a>
	      </li>
	    </ul>
	  </li>
	</ul>
      </div>
    </div>
  </div>
</div>
<flash-message class="flashAlert" ng-class="{'flashTop': currentUser.email && !disableNav}">
    <div class="my-flash flashAlert" >{{ flash.text }}</div>
</flash-message>
