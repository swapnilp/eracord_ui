<div request-loading is-loading="requestLoading"></div>
<div class="col-sm-12 textLeft padding0" ng-show="!requestLoading">
  <div class="col-sm-12 textLeft padding0 row margin0">
    <div class="col-sm-12 padding0">
      <div class="pull-left">
	<h3>{{hostel.name}} Hostel
	  <small ng-if="newHostelShow">
	    <a href="#/hostels/new">Add new Hostel</a>
	  </small>
	</h3>
      </div>
      <div class="filterRight paddingTop20">
	<button class="btn btn-primary" ng-click="goBack();" uib-tooltip="Back">
	  <i class="fa fa-arrow-circle-o-left"></i>
	</button>
	<a href="#/hostels/{{hostel.id}}/edit" class="btn btn-primary" ng-if="!requestLoading" uib-tooltip="Edit">
	  <i class="fa fa-edit"></i>
	</a>
	<button class="btn btn-primary" ng-click="newRoom('lg');" ng-disabled="!(hostel.rooms > hostelRooms.length)" uib-tooltip="Add room">
	  Add room
	</button>
	<a href="#/hostels/{{hostel.id}}/logs" class="btn btn-primary" ng-if="!requestLoading" uib-tooltip="Get logs"><i class="fa fa-list-alt"></i></a>
      </div>
    </div>
  </div>
  <div class="col-sm-12 textLeft padding0 marginT20">
    <span class=""><strong>Owner</strong>  &nbsp;&nbsp;&nbsp;{{hostel.owner}}</span>
  </div>
  <div class="col-sm-12 textLeft padding0 marginT20">
    <span><strong>Number of rooms</strong>&nbsp;&nbsp;&nbsp; {{hostel.rooms}}</span>
  </div>
  <div class="col-sm-12 textLeft padding0 marginT20">
    <span><strong>Student occupancy</strong>&nbsp;&nbsp;&nbsp;<strong>{{hostel.occupied_students}}</strong> out of <strong>{{hostel.student_occupancy}}</strong>
    </span>
  </div>

  <div class="col-sm-12 textLeft padding0 marginT20" ng-if="unallocatedStudents > 0">
    <span><strong>UnOccupied Students</strong>&nbsp;&nbsp;&nbsp <strong>{{unallocatedStudents}}</strong>
    </span>
  </div>
  <div class="col-sm-12 textLeft padding0 marginT20">
    <span><strong>Average fee</strong> &nbsp;&nbsp;&nbsp;{{hostel.average_fee}}</span>
  </div>
  <div class="col-sm-12 textLeft padding0 marginT20" ng-if="hostel.is_service_tax">
    <span><strong>Service tax</strong>&nbsp;&nbsp;&nbsp;{{hostel.service_tax}}</span>
  </div>
  <div class="col-sm-12 mTop20 padding0">
    <input ng-model="filterStudent" placeholder="Search Student"/>&nbsp;<span class="padding5 pointer" ng-click="filterStudent = ''"><i class="fa fa-refresh"></i></span>
    
  </div>
  <div class="row">
    <div ng-repeat="room in hostelRooms">
      <div hostel-rooms hostel-id="{{hostel.id}}" room="room" edit-room="editRoom(roomId)" delete-room="deleteRoom(roomId)" allocate-student="allocateStudent(roomId, roomName);" unallocated-students="{{unallocatedStudents}}" filter-student="filterStudent" deallocate-student-from-hostel="deallocateStudentFromHostel(student_id);" reload-rooms="getHostelRooms();">
      </div>
    </div>
  </div>
</div>
